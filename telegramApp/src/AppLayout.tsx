import "./App.css";
import { NavLink, Outlet } from "react-router-dom";

import { useWebApp } from "./TelegramAppProvider.tsx";
import { useEffect } from "react";

export function AppLayout() {
  const twa = useWebApp();
  const colorScheme = twa?.colorScheme;
  useEffect(() => {
    twa?.setHeaderColor("#111111");
  }, [twa, colorScheme]);
  return (
    <>
      <div className="flex flex-col h-screen">
        <main
          className="flex-1 relative"
          style={{ backgroundColor: "#111111" }}
        >
          <Outlet />
        </main>
        <nav
          // className={`flex flex-row justify-around ${colorScheme === "dark" ? "bg-black text-white" : "bg-white text-black"} pb-2 pt-4 pl-2 pr-2`}
          className={`flex flex-row justify-around items-stretch p-1 h-16 absolute bottom-6 left-6 right-6 z-40 border rounded-xl poppins-semi-bold`}
          style={{
            backgroundColor: "#141414",
            borderColor: "#2D2D2D",
            color: "#818181",
          }}
        >
          <NavLink
            to="/"
            className={({ isActive }) =>
              [
                "flex flex-col flex-1 items-center justify-end gap-2 rounded-lg p-2",
                isActive ? "active-nav-tab" : "",
              ].join(" ")
            }
          >
            <svg
              width="20"
              height="21"
              viewBox="0 0 20 21"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                opacity="0.2"
                d="M13.75 4.84863V16.0986C13.75 16.4302 13.6183 16.7481 13.3839 16.9825C13.1495 17.2169 12.8315 17.3486 12.5 17.3486H7.5C7.16848 17.3486 6.85054 17.2169 6.61612 16.9825C6.3817 16.7481 6.25 16.4302 6.25 16.0986V4.84863C6.25 4.51711 6.3817 4.19917 6.61612 3.96475C6.85054 3.73033 7.16848 3.59863 7.5 3.59863H12.5C12.8315 3.59863 13.1495 3.73033 13.3839 3.96475C13.6183 4.19917 13.75 4.51711 13.75 4.84863Z"
                fill="white"
              />
              <path
                d="M12.5 2.97363H7.5C7.00272 2.97363 6.52581 3.17118 6.17417 3.52281C5.82254 3.87444 5.625 4.35135 5.625 4.84863V16.0986C5.625 16.5959 5.82254 17.0728 6.17417 17.4245C6.52581 17.7761 7.00272 17.9736 7.5 17.9736H12.5C12.9973 17.9736 13.4742 17.7761 13.8258 17.4245C14.1775 17.0728 14.375 16.5959 14.375 16.0986V4.84863C14.375 4.35135 14.1775 3.87444 13.8258 3.52281C13.4742 3.17118 12.9973 2.97363 12.5 2.97363ZM13.125 16.0986C13.125 16.2644 13.0592 16.4234 12.9419 16.5406C12.8247 16.6578 12.6658 16.7236 12.5 16.7236H7.5C7.33424 16.7236 7.17527 16.6578 7.05806 16.5406C6.94085 16.4234 6.875 16.2644 6.875 16.0986V4.84863C6.875 4.68287 6.94085 4.5239 7.05806 4.40669C7.17527 4.28948 7.33424 4.22363 7.5 4.22363H12.5C12.6658 4.22363 12.8247 4.28948 12.9419 4.40669C13.0592 4.5239 13.125 4.68287 13.125 4.84863V16.0986ZM16.875 7.34863V13.5986C16.875 13.7644 16.8092 13.9234 16.6919 14.0406C16.5747 14.1578 16.4158 14.2236 16.25 14.2236C16.0842 14.2236 15.9253 14.1578 15.8081 14.0406C15.6908 13.9234 15.625 13.7644 15.625 13.5986V7.34863C15.625 7.18287 15.6908 7.0239 15.8081 6.90669C15.9253 6.78948 16.0842 6.72363 16.25 6.72363C16.4158 6.72363 16.5747 6.78948 16.6919 6.90669C16.8092 7.0239 16.875 7.18287 16.875 7.34863ZM19.375 8.59863V12.3486C19.375 12.5144 19.3092 12.6734 19.1919 12.7906C19.0747 12.9078 18.9158 12.9736 18.75 12.9736C18.5842 12.9736 18.4253 12.9078 18.3081 12.7906C18.1908 12.6734 18.125 12.5144 18.125 12.3486V8.59863C18.125 8.43287 18.1908 8.2739 18.3081 8.15669C18.4253 8.03948 18.5842 7.97363 18.75 7.97363C18.9158 7.97363 19.0747 8.03948 19.1919 8.15669C19.3092 8.2739 19.375 8.43287 19.375 8.59863ZM4.375 7.34863V13.5986C4.375 13.7644 4.30915 13.9234 4.19194 14.0406C4.07473 14.1578 3.91576 14.2236 3.75 14.2236C3.58424 14.2236 3.42527 14.1578 3.30806 14.0406C3.19085 13.9234 3.125 13.7644 3.125 13.5986V7.34863C3.125 7.18287 3.19085 7.0239 3.30806 6.90669C3.42527 6.78948 3.58424 6.72363 3.75 6.72363C3.91576 6.72363 4.07473 6.78948 4.19194 6.90669C4.30915 7.0239 4.375 7.18287 4.375 7.34863ZM1.875 8.59863V12.3486C1.875 12.5144 1.80915 12.6734 1.69194 12.7906C1.57473 12.9078 1.41576 12.9736 1.25 12.9736C1.08424 12.9736 0.925268 12.9078 0.808058 12.7906C0.690848 12.6734 0.625 12.5144 0.625 12.3486V8.59863C0.625 8.43287 0.690848 8.2739 0.808058 8.15669C0.925268 8.03948 1.08424 7.97363 1.25 7.97363C1.41576 7.97363 1.57473 8.03948 1.69194 8.15669C1.80915 8.2739 1.875 8.43287 1.875 8.59863Z"
                fill="currentColor"
              />
            </svg>
            <span style={{ fontSize: "0.625rem", lineHeight: "0.75rem" }}>
              Vibrate
            </span>
          </NavLink>
          <NavLink
            to="/referrals"
            className={({ isActive }) =>
              [
                "flex flex-1 flex-col items-center justify-end gap-2 rounded-lg p-2",
                isActive ? "active-nav-tab" : "",
              ].join(" ")
            }
          >
            <svg
              width="20"
              height="21"
              viewBox="0 0 20 21"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                opacity="0.2"
                d="M8.125 2.97363V5.47363C8.125 5.63939 8.05915 5.79836 7.94194 5.91557C7.82473 6.03278 7.66576 6.09863 7.5 6.09863H5C4.83424 6.09863 4.67527 6.03278 4.55806 5.91557C4.44085 5.79836 4.375 5.63939 4.375 5.47363V2.97363C4.375 2.80787 4.44085 2.6489 4.55806 2.53169C4.67527 2.41448 4.83424 2.34863 5 2.34863H7.5C7.66576 2.34863 7.82473 2.41448 7.94194 2.53169C8.05915 2.6489 8.125 2.80787 8.125 2.97363ZM16.25 7.97363H13.75C13.5842 7.97363 13.4253 8.03948 13.3081 8.15669C13.1908 8.2739 13.125 8.43287 13.125 8.59863V11.0986C13.125 11.2644 13.1908 11.4234 13.3081 11.5406C13.4253 11.6578 13.5842 11.7236 13.75 11.7236H16.25C16.4158 11.7236 16.5747 11.6578 16.6919 11.5406C16.8092 11.4234 16.875 11.2644 16.875 11.0986V8.59863C16.875 8.43287 16.8092 8.2739 16.6919 8.15669C16.5747 8.03948 16.4158 7.97363 16.25 7.97363ZM16.25 14.8486H13.75C13.5842 14.8486 13.4253 14.9145 13.3081 15.0317C13.1908 15.1489 13.125 15.3079 13.125 15.4736V17.9736C13.125 18.1394 13.1908 18.2984 13.3081 18.4156C13.4253 18.5328 13.5842 18.5986 13.75 18.5986H16.25C16.4158 18.5986 16.5747 18.5328 16.6919 18.4156C16.8092 18.2984 16.875 18.1394 16.875 17.9736V15.4736C16.875 15.3079 16.8092 15.1489 16.6919 15.0317C16.5747 14.9145 16.4158 14.8486 16.25 14.8486Z"
                fill="#818181"
              />
              <path
                d="M13.75 12.3486H16.25C16.5815 12.3486 16.8995 12.2169 17.1339 11.9825C17.3683 11.7481 17.5 11.4302 17.5 11.0986V8.59863C17.5 8.26711 17.3683 7.94917 17.1339 7.71475C16.8995 7.48033 16.5815 7.34863 16.25 7.34863H13.75C13.4185 7.34863 13.1005 7.48033 12.8661 7.71475C12.6317 7.94917 12.5 8.26711 12.5 8.59863V9.22363H6.875V6.72363H7.5C7.83152 6.72363 8.14946 6.59194 8.38388 6.35752C8.6183 6.1231 8.75 5.80515 8.75 5.47363V2.97363C8.75 2.64211 8.6183 2.32417 8.38388 2.08975C8.14946 1.85533 7.83152 1.72363 7.5 1.72363H5C4.66848 1.72363 4.35054 1.85533 4.11612 2.08975C3.8817 2.32417 3.75 2.64211 3.75 2.97363V5.47363C3.75 5.80515 3.8817 6.1231 4.11612 6.35752C4.35054 6.59194 4.66848 6.72363 5 6.72363H5.625V15.4736C5.625 15.9709 5.82254 16.4478 6.17417 16.7995C6.52581 17.1511 7.00272 17.3486 7.5 17.3486H12.5V17.9736C12.5 18.3052 12.6317 18.6231 12.8661 18.8575C13.1005 19.0919 13.4185 19.2236 13.75 19.2236H16.25C16.5815 19.2236 16.8995 19.0919 17.1339 18.8575C17.3683 18.6231 17.5 18.3052 17.5 17.9736V15.4736C17.5 15.1421 17.3683 14.8242 17.1339 14.5897C16.8995 14.3553 16.5815 14.2236 16.25 14.2236H13.75C13.4185 14.2236 13.1005 14.3553 12.8661 14.5897C12.6317 14.8242 12.5 15.1421 12.5 15.4736V16.0986H7.5C7.33424 16.0986 7.17527 16.0328 7.05806 15.9156C6.94085 15.7984 6.875 15.6394 6.875 15.4736V10.4736H12.5V11.0986C12.5 11.4302 12.6317 11.7481 12.8661 11.9825C13.1005 12.2169 13.4185 12.3486 13.75 12.3486ZM5 2.97363H7.5V5.47363H5V2.97363ZM13.75 15.4736H16.25V17.9736H13.75V15.4736ZM13.75 8.59863H16.25V11.0986H13.75V8.59863Z"
                fill="currentColor"
              />
            </svg>
            <span style={{ fontSize: "0.625rem", lineHeight: "0.75rem" }}>
              Invite
            </span>
          </NavLink>
          <NavLink
            to="/tasks"
            className={({ isActive }) =>
              [
                "flex flex-col flex-1 items-center justify-end gap-2 rounded-lg p-2",
                isActive ? "active-nav-tab" : "",
              ].join(" ")
            }
          >
            <svg
              width="33"
              height="33"
              viewBox="0 0 33 33"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                opacity="0.2"
                d="M26.45 20.4263L27.4587 24.5L23.75 22.3175L20.0413 24.5L21.05 20.4263L17.75 17.7013L22.0812 17.3675L23.75 13.5L25.4188 17.3675L29.75 17.7013L26.45 20.4263Z"
                fill="#818181"
              />
              <path
                d="M4.75 8.5C4.75 8.23478 4.85536 7.98043 5.04289 7.79289C5.23043 7.60536 5.48478 7.5 5.75 7.5H27.75C28.0152 7.5 28.2696 7.60536 28.4571 7.79289C28.6446 7.98043 28.75 8.23478 28.75 8.5C28.75 8.76522 28.6446 9.01957 28.4571 9.20711C28.2696 9.39464 28.0152 9.5 27.75 9.5H5.75C5.48478 9.5 5.23043 9.39464 5.04289 9.20711C4.85536 9.01957 4.75 8.76522 4.75 8.5ZM5.75 17.5H12.75C13.0152 17.5 13.2696 17.3946 13.4571 17.2071C13.6446 17.0196 13.75 16.7652 13.75 16.5C13.75 16.2348 13.6446 15.9804 13.4571 15.7929C13.2696 15.6054 13.0152 15.5 12.75 15.5H5.75C5.48478 15.5 5.23043 15.6054 5.04289 15.7929C4.85536 15.9804 4.75 16.2348 4.75 16.5C4.75 16.7652 4.85536 17.0196 5.04289 17.2071C5.23043 17.3946 5.48478 17.5 5.75 17.5ZM14.75 23.5H5.75C5.48478 23.5 5.23043 23.6054 5.04289 23.7929C4.85536 23.9804 4.75 24.2348 4.75 24.5C4.75 24.7652 4.85536 25.0196 5.04289 25.2071C5.23043 25.3946 5.48478 25.5 5.75 25.5H14.75C15.0152 25.5 15.2696 25.3946 15.4571 25.2071C15.6446 25.0196 15.75 24.7652 15.75 24.5C15.75 24.2348 15.6446 23.9804 15.4571 23.7929C15.2696 23.6054 15.0152 23.5 14.75 23.5ZM30.3862 18.4725L27.5713 20.7962L28.4287 24.26C28.4758 24.451 28.4654 24.6516 28.399 24.8367C28.3326 25.0218 28.213 25.1832 28.0553 25.3008C27.8976 25.4183 27.7088 25.4867 27.5124 25.4975C27.316 25.5083 27.1208 25.4609 26.9513 25.3612L23.75 23.4775L20.5487 25.3612C20.3792 25.4609 20.184 25.5083 19.9876 25.4975C19.7912 25.4867 19.6024 25.4183 19.4447 25.3008C19.287 25.1832 19.1674 25.0218 19.101 24.8367C19.0346 24.6516 19.0242 24.451 19.0713 24.26L19.9275 20.7962L17.1138 18.4725C16.9603 18.3456 16.8483 18.1758 16.7919 17.9848C16.7356 17.7938 16.7376 17.5903 16.7976 17.4005C16.8576 17.2106 16.9729 17.043 17.1288 16.9191C17.2847 16.7952 17.474 16.7206 17.6725 16.705L21.4025 16.4163L22.8312 13.1038C22.9085 12.9241 23.0366 12.771 23.1999 12.6635C23.3632 12.5559 23.5545 12.4986 23.75 12.4986C23.9455 12.4986 24.1368 12.5559 24.3001 12.6635C24.4634 12.771 24.5915 12.9241 24.6688 13.1038L26.0975 16.4163L29.8275 16.705C30.026 16.7206 30.2153 16.7952 30.3712 16.9191C30.5271 17.043 30.6424 17.2106 30.7024 17.4005C30.7624 17.5903 30.7644 17.7938 30.7081 17.9848C30.6518 18.1758 30.5397 18.3456 30.3862 18.4725ZM27.2025 18.5075L25.3412 18.3638C25.1597 18.3498 24.9854 18.2866 24.8371 18.1808C24.6889 18.0751 24.5723 17.9309 24.5 17.7638L23.75 16.0238L23 17.7638C22.9277 17.9309 22.8111 18.0751 22.6629 18.1808C22.5146 18.2866 22.3403 18.3498 22.1588 18.3638L20.2975 18.5075L21.6863 19.655C21.8317 19.7749 21.9403 19.9334 21.9996 20.1123C22.0589 20.2912 22.0664 20.4833 22.0212 20.6663L21.5837 22.4312L23.2425 21.455C23.3963 21.3644 23.5715 21.3167 23.75 21.3167C23.9285 21.3167 24.1037 21.3644 24.2575 21.455L25.9163 22.4312L25.4788 20.6663C25.4336 20.4833 25.4411 20.2912 25.5004 20.1123C25.5597 19.9334 25.6683 19.7749 25.8137 19.655L27.2025 18.5075Z"
                fill="currentColor"
              />
            </svg>

            <span style={{ fontSize: "0.625rem", lineHeight: "0.75rem" }}>
              Tasks
            </span>
          </NavLink>
          <NavLink
            to="/boosts"
            className={({ isActive }) =>
              [
                "flex flex-col flex-1 items-center justify-end gap-2 rounded-lg p-2",
                isActive ? "active-nav-tab" : "",
              ].join(" ")
            }
          >
            <svg
              width="33"
              height="33"
              viewBox="0 0 33 33"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                opacity="0.2"
                d="M12.25 30.5L14.25 20.5L6.25 17.5L20.25 2.5L18.25 12.5L26.25 15.5L12.25 30.5Z"
                fill="#818181"
              />
              <path
                d="M27.2238 15.2711C27.1859 15.1108 27.1091 14.9624 27 14.839C26.891 14.7156 26.7532 14.621 26.5988 14.5636L19.3975 11.8624L21.23 2.69612C21.2715 2.48315 21.2426 2.26246 21.1477 2.06735C21.0528 1.87224 20.8969 1.71331 20.7038 1.61453C20.5106 1.51574 20.2905 1.48248 20.0767 1.51974C19.863 1.55701 19.6672 1.66279 19.5188 1.82112L5.51879 16.8211C5.40508 16.9409 5.32283 17.0871 5.27937 17.2464C5.23591 17.4058 5.23261 17.5734 5.26975 17.7344C5.30689 17.8953 5.38332 18.0446 5.49222 18.1688C5.60111 18.293 5.73908 18.3883 5.89379 18.4461L13.0975 21.1474L11.27 30.3036C11.2285 30.5166 11.2574 30.7373 11.3524 30.9324C11.4473 31.1275 11.6031 31.2864 11.7963 31.3852C11.9895 31.484 12.2096 31.5173 12.4233 31.48C12.6371 31.4427 12.8329 31.337 12.9813 31.1786L26.9813 16.1786C27.0929 16.0588 27.1734 15.9134 27.2157 15.7551C27.258 15.5969 27.2608 15.4307 27.2238 15.2711ZM13.9213 27.2499L15.23 20.7024C15.2769 20.4702 15.2398 20.2289 15.1253 20.0215C15.0108 19.8141 14.8265 19.654 14.605 19.5699L8.00004 17.0886L18.5775 5.75612L17.27 12.3036C17.2232 12.5358 17.2603 12.7771 17.3748 12.9845C17.4892 13.1919 17.6736 13.352 17.895 13.4361L24.495 15.9111L13.9213 27.2499Z"
                fill="currentColor"
              />
            </svg>

            <span style={{ fontSize: "0.625rem", lineHeight: "0.75rem" }}>
              Boosts
            </span>
          </NavLink>
        </nav>
      </div>
    </>
  );
}
