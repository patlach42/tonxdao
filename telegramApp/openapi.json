{"openapi":"3.1.0","info":{"title":"TNO Coin","version":"0.1.0"},"paths":{"/api/v1/login/web-app":{"post":{"tags":["login"],"summary":"Login Telegram Web App","operationId":"login-login_telegram_web_app","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TelegramInitData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/login/access-token":{"post":{"tags":["login"],"summary":"Login Access Token","description":"OAuth2 compatible token login, get an access token for future requests","operationId":"login-login_access_token","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login-login_access_token"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/login/test-token":{"post":{"tags":["login"],"summary":"Test Token","description":"Test access token","operationId":"login-test_token","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/centrifugo-token":{"get":{"tags":["login"],"summary":"Centrifugo Token","operationId":"login-centrifugo_token","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CentrifugoTokenResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/profile":{"get":{"tags":["login"],"summary":"Profile","operationId":"login-profile","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/rpc":{"post":{"tags":["cenrifugo"],"summary":"Rpc","operationId":"cenrifugo-rpc","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CentrifugoRpc"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cenrifugo-Rpc"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/pub":{"post":{"tags":["cenrifugo"],"summary":"Pub","operationId":"cenrifugo-pub","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Data"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cenrifugo-Pub"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/referrers":{"get":{"tags":["referrers"],"summary":"Referrers","operationId":"referrers-referrers","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReferrersResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"Body_login-login_access_token":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login-login_access_token"},"CentrifugoRpc":{"properties":{"user":{"type":"string","title":"User"},"method":{"$ref":"#/components/schemas/CentrifugoRpcMethod"},"data":{"type":"object","title":"Data"}},"type":"object","required":["user","method","data"],"title":"CentrifugoRpc"},"CentrifugoRpcMethod":{"type":"string","enum":["on_connected","tap"],"title":"CentrifugoRpcMethod"},"CentrifugoTokenResponse":{"properties":{"token":{"type":"string","title":"Token"}},"type":"object","required":["token"],"title":"CentrifugoTokenResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ReferrerUser":{"properties":{"name":{"type":"string","title":"Name"},"coins":{"type":"integer","title":"Coins"},"id":{"type":"string","title":"Id"}},"type":"object","required":["name","coins","id"],"title":"ReferrerUser"},"ReferrersResponse":{"properties":{"list":{"items":{"$ref":"#/components/schemas/ReferrerUser"},"type":"array","title":"List"},"link":{"type":"string","title":"Link"}},"type":"object","required":["list","link"],"title":"ReferrersResponse"},"TelegramInitData":{"properties":{"initData":{"type":"string","title":"Initdata"}},"type":"object","required":["initData"],"title":"TelegramInitData"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"Token"},"UserPublic":{"properties":{"email":{"type":"string","title":"Email"},"telegram_id":{"type":"string","title":"Telegram Id"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"coins":{"type":"integer","title":"Coins","default":0},"id":{"type":"integer","title":"Id"},"energy":{"type":"number","title":"Energy"},"last_energy_change":{"type":"number","title":"Last Energy Change"}},"type":"object","required":["email","telegram_id","id","energy","last_energy_change"],"title":"UserPublic"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/login/access-token"}}}}}}